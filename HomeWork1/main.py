import numpy as np

# Заданные параметры
R1 = 30  # Ом
R2 = 100  # Ом
R3 = 40  # Ом
R4 = 140  # Ом
R5 = 90  # Ом
E2 = 100  # В
E4 = 140  # В
E5 = 90  # В
Y = 3  # A

# Шаг 1: Уравнения по законам Кирхгофа для контуров
# Уравнение 1: 130 * I3 + 20 * I5 = 490
# Уравнение 2: 180 * I3 - 230 * I5 = 50

# Коэффициенты уравнений
A = np.array([[130, 20], [180, -230]])
B = np.array([490, 50])

# Решаем систему линейных уравнений
I3, I5 = np.linalg.solve(A, B)

# Шаг 2: Вычисляем остальные токи
I4 = I3 - I5
I2 = I4 - Y
I1 = I3 + I5

# Шаг 3: Выводим результаты по шагам
print("Шаг 1: Решение системы уравнений")
print(f"Уравнение 1: 130 * I3 + 20 * I5 = 490")
print(f"Уравнение 2: 180 * I3 - 230 * I5 = 50")
print(f"Решение: I3 = {I3:.2f} A, I5 = {I5:.2f} A")

print("\nШаг 2: Вычисление остальных токов")
print(f"I4 = I3 - I5 = {I3:.2f} - {I5:.2f} = {I4:.2f} A")
print(f"I2 = I4 - Y = {I4:.2f} - {Y} = {I2:.2f} A")
print(f"I1 = I3 + I5 = {I3:.2f} + {I5:.2f} = {I1:.2f} A")

print("\nШаг 3: Итоговые значения токов")
print(f"I1 = {I1:.2f} A")
print(f"I2 = {I2:.2f} A")
print(f"I3 = {I3:.2f} A")
print(f"I4 = {I4:.2f} A")
print(f"I5 = {I5:.2f} A")
